<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Find a house!</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="style/layout.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body>
    <div id="map"></div>
    <div id="options">
        <div id="preferences">
            <h1>Preferences</h1>
            <table>
                <tr>
                    <td><label>Price</label></td>
                    <td><input id="price" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Urbanity</label></td>
                    <td><input id="urbanity" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Safety</label></td>
                    <td><input id="safety" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Public Transit</label></td>
                    <td><input id="transit" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Healthcare</label></td>
                    <td><input id="health" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Air Quality</label></td>
                    <td><input id="air" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
                <tr>
                    <td><label>Education</label></td>
                    <td><input id="air" type="range" min="-1.0" max="1.0" step="0.01" value="0.0"></td>
                </tr>
            </table>
        </div>
        <div id="requirements">
            <h1>Requirements</h1>
            <table>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Primary School</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Secondary School</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Doctor</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Hospital</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Grocery Store</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Library</td>
                </tr>
            </table>
        </div>
        <div id="legend">
            <h1>Legend</h1>
            <img id="colors" src="img/magma.png">
        </div>
        <div id="copyright">
            Â© Kadaster / Centraal Bureau voor de Statistiek, 2020
        </div>
    </div>
    <script>

        // Generate elements
        const elements = [];
        for (var i = 0; i < 10; i++) {
            elements.push({
                x: Math.random(),
                y: Math.random(),
            })
        }

        // Render elements
        function render(width, height) {
            
            const rects = d3.select("#map")
                .selectAll("rect")
                .data(elements);

            rects.enter()
                .append("rect")
                    .attr("x", element => element.x * (width - 50))
                    .attr("y", element => element.y * (height - 50))
                    .attr("width", 50)
                    .attr("height", 50)
                    .attr("fill", "rgb(32, 32, 32)");

            rects
                .attr("x", element => element.x * (width - 50))
                .attr("y", element => element.y * (height - 50))

            rects.exit()
                .remove()
        }

        // Resize components
        function resize() {

            const width = $("body").width() - $("#options").width() - 64;
            const height = Math.max($(window).height(), ($("#options").height() + 64));
            
            $("#map").css({
                width: width,
                height: height,
            });
            $("#colors").css({
                width: $("#options").width() - 2,
            });
            $("#copyright").css({
                width: $("#options").width(),
            })
            
            render(width, height);
        }
        $(window).on("resize", resize);
        resize();
        
    </script>
</body>
</html>

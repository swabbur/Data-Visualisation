<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Find a house!</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="style/layout.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body>
    <div id="map"></div>
    <div id="options">
        <div id="preferences">
            <h1>Preferences</h1>
            <table>
                <tr>
                    <td><label>Price</label></td>
                    <td><input id="price" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Urbanity</label></td>
                    <td><input id="urbanity" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Safety</label></td>
                    <td><input id="safety" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Healthcare</label></td>
                    <td><input id="health" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Education</label></td>
                    <td><input id="education" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Air Quality</label></td>
                    <td><input id="air" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label>Public Transit</label></td>
                    <td><input id="transit" type="range" min="0.0" max="1.0" step="0.01" value="0.5"></td>
                </tr>
            </table>
        </div>
        <div id="requirements">
            <h1>Requirements</h1>
            <table>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Daycare</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Grocery Store</td>
                </tr>
                <tr>
                    <td><input id="" type="checkbox"></td>
                    <td>Library</td>
                </tr>
            </table>
        </div>
        <div id="legend">
            <h1>Legend</h1>
            <img id="colors" src="img/magma.png">
        </div>
        <div id="copyright">
            Â© Kadaster / Centraal Bureau voor de Statistiek, 2020
        </div>
    </div>
    <script>

        // Render some fun colors
        time = 0.0
        setInterval(() => {
            var color = "black"
            if (time < 1.0) {
                color = d3.interpolateMagma(1.0 - time);
            } else {
                color = d3.interpolateMagma(time - 1.0);
            }
            $("#map").css("background-color", color);
            time += 0.005
            time %= 2.0
        }, 20);

        // Render elements
        function render(width, height) {
            // TODO: Render Map
        }

        // Resize components
        function resize() {

            const width = $("body").width() - $("#options").width() - 64;
            const height = Math.max($(window).height(), ($("#options").height() + 64));
            
            $("#map").css({
                width: width,
                height: height,
            });
            $("#colors").css({
                width: $("#options").width() - 2,
            });
            $("#copyright").css({
                width: $("#options").width(),
            })
            
            render(width, height);
        }
        $(window).on("resize", resize);
        resize();
        
    </script>
</body>
</html>
